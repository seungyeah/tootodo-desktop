var Ya=Object.defineProperty;var $a=n=>{throw TypeError(n)};var Ga=(n,e,a)=>e in n?Ya(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var de=(n,e,a)=>Ga(n,typeof e!="symbol"?e+"":e,a),xa=(n,e,a)=>e.has(n)||$a("Cannot "+a);var te=(n,e,a)=>(xa(n,e,"read from private field"),a?a.call(n):e.get(n)),ne=(n,e,a)=>e.has(n)?$a("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,a);var Me=(n,e,a)=>(xa(n,e,"access private method"),a);import{c as k,a as s,t as m,b as je}from"../chunks/CCTC-7cS.js";import{b as Fe,g as t,d as Oe,z as f,u as tt,q as ia,p as Se,f as c,a as Te,c as R,n as sa,r as T,t as ye,aA as va,s as $,e as Ge,I as He,V as ya,aH as nt}from"../chunks/lJj1ROAO.js";import{h as ra,u as _a,K as Ca,V as Qe,W as Za,G as Ke,X as Ja,Y as Qa,M as Xa,Z as es,_ as Ma,C as ts,j as ge,a as qe,m as ga,o as bt,c as Be,e as Ze,i as Je,aj as ma,I as Ne,s as Ae,ao as dt,D as Da,ap as yt,q as da,al as ut,aq as as,ar as ss,a7 as st,p as za,g as wt,aa as rs,as as ns,at as ls,au as is}from"../chunks/BcgbVQLy.js";import{p as pe,d as A,i as we,r as Re,e as d,s as ke,f as ct,l as Ue,a as mt,b as Le,c as lt,m as oa}from"../chunks/gVHdC8Dn.js";import{T as os,R as ds,P as cs,b as us,c as hs}from"../chunks/D-n0rvTp.js";import{a as kt,J as Ye,s as ca,R as Oa,T as Ra,D as Ia,H as fs,G as ht,A as pt,E as ze,B as $t,I as vs,K as _s,S as gs}from"../chunks/BDnc6AQL.js";import{c as na,o as Ea,w as wa}from"../chunks/BAirJ6aW.js";import{o as Na,p as ms,q as bs,r as ps,s as $s,t as xs,v as xt,w as ys,x as Ds,y as ws,z as ks,A as Ps,D as Aa,E as Vs,G as Ss,H as Ts,I as Cs,J as Ms,K as zs,L as Os,g as Rs,C as Is,c as Es,d as Ns,e as As,i as Us,j as Ls,k as Fs,h as Bs,f as Ws,B as Ks,F as js,l as Hs,m as qs,n as ka}from"../chunks/CY2k-_4l.js";import{s as Xe,e as et,d as Ua,r as Ys}from"../chunks/CIyAGVkD.js";import"../chunks/CJ1jPYAq.js";import{s as rt}from"../chunks/BdomY8CC.js";import{C as La,T as Fa,$ as Gs,M as Zs}from"../chunks/C_YVGML4.js";import{C as Ba}from"../chunks/Bo0t9Wfe.js";import{P as Pa,B as Js,R as Qs,S as Xs,a as er}from"../chunks/DGjauSpM.js";import{g as tr}from"../chunks/Vs-c0-X0.js";import{P as ar,T as sr,a as Va,b as it,M as rr,C as nr,c as lr,d as ir,e as ot}from"../chunks/EYSvwL39.js";import"../chunks/Bi7Zu3RZ.js";import{T as or}from"../chunks/BW0yNg7C.js";var vt,Pt,_t,gt,$e,Wa,at,ft,Vt,St,Tt,Ct,Mt,zt,Ot,Rt,It,ua,Dt,Ka,Et,Nt;class dr{constructor(e){ne(this,$e);de(this,"id");de(this,"ref");de(this,"value");de(this,"placeholder");de(this,"preventDeselect");de(this,"minValue");de(this,"maxValue");de(this,"disabled");de(this,"pagedNavigation");de(this,"weekStartsOn");de(this,"weekdayFormat");de(this,"isDateDisabledProp");de(this,"isDateUnavailableProp");de(this,"fixedWeeks");de(this,"numberOfMonths");de(this,"locale");de(this,"calendarLabel");de(this,"readonly");de(this,"disableDaysOutsideMonth");de(this,"onRangeSelect");de(this,"startValue");de(this,"endValue");ne(this,vt,Fe(pe([])));ne(this,Pt,f(()=>this.months.map(e=>e.value)));de(this,"announcer");de(this,"formatter");de(this,"accessibleHeadingId",ra());ne(this,_t,Fe(void 0));ne(this,gt,Fe(void 0));de(this,"setMonths",e=>{this.months=e});ne(this,Vt,f(()=>ys({months:this.months,formatter:this.formatter,weekdayFormat:this.weekdayFormat.current})));ne(this,St,f(()=>this.startValue.current?this.isDateUnavailable(this.startValue.current)||this.isDateDisabled(this.startValue.current):!1));ne(this,Tt,f(()=>this.endValue.current?this.isDateUnavailable(this.endValue.current)||this.isDateDisabled(this.endValue.current):!1));ne(this,Ct,f(()=>!!(this.isStartInvalid||this.isEndInvalid||this.endValue.current&&this.startValue.current&&xt(this.endValue.current,this.startValue.current))));ne(this,Mt,f(()=>ws({maxValue:this.maxValue.current,months:this.months,disabled:this.disabled.current})));ne(this,zt,f(()=>ks({minValue:this.minValue.current,months:this.months,disabled:this.disabled.current})));ne(this,Ot,f(()=>Ps({months:this.months,formatter:this.formatter,locale:this.locale.current})));ne(this,Rt,f(()=>`${this.calendarLabel.current} ${this.headingValue}`));ne(this,It,f(()=>{if(this.startValue.current&&this.endValue.current||!this.startValue.current||!this.focusedValue)return null;const e=xt(this.startValue.current,this.focusedValue),a=e?this.startValue.current:this.focusedValue,i=e?this.focusedValue:this.startValue.current;return Qe(a.add({days:1}),i)?{start:a,end:i}:Vs(a,i,this.isDateUnavailable,this.isDateDisabled)?{start:a,end:i}:null}));ne(this,Et,f(()=>({months:this.months,weekdays:this.weekdays})));ne(this,Nt,f(()=>({...zs({fullCalendarLabel:this.fullCalendarLabel,id:this.id.current,isInvalid:this.isInvalid,disabled:this.disabled.current,readonly:this.readonly.current}),[this.getBitsAttr("root")]:"",onkeydown:this.onkeydown})));this.value=e.value,this.placeholder=e.placeholder,this.preventDeselect=e.preventDeselect,this.minValue=e.minValue,this.maxValue=e.maxValue,this.disabled=e.disabled,this.pagedNavigation=e.pagedNavigation,this.weekStartsOn=e.weekStartsOn,this.weekdayFormat=e.weekdayFormat,this.isDateDisabledProp=e.isDateDisabled,this.isDateUnavailableProp=e.isDateUnavailable,this.fixedWeeks=e.fixedWeeks,this.numberOfMonths=e.numberOfMonths,this.locale=e.locale,this.calendarLabel=e.calendarLabel,this.readonly=e.readonly,this.disableDaysOutsideMonth=e.disableDaysOutsideMonth,this.id=e.id,this.ref=e.ref,this.onRangeSelect=e.onRangeSelect,this.startValue=e.startValue,this.endValue=e.endValue,this.announcer=ms(),this.formatter=bs(this.locale.current),_a({id:this.id,ref:this.ref}),this.months=ps({dateObj:this.placeholder.current,weekStartsOn:this.weekStartsOn.current,locale:this.locale.current,fixedWeeks:this.fixedWeeks.current,numberOfMonths:this.numberOfMonths.current}),tt(()=>{this.formatter.getLocale()!==this.locale.current&&this.formatter.setLocale(this.locale.current)}),$s({placeholder:this.placeholder,getVisibleMonths:()=>this.visibleMonths,weekStartsOn:this.weekStartsOn,locale:this.locale,fixedWeeks:this.fixedWeeks,numberOfMonths:this.numberOfMonths,setMonths:this.setMonths}),xs({fixedWeeks:this.fixedWeeks,locale:this.locale,numberOfMonths:this.numberOfMonths,placeholder:this.placeholder,setMonths:this.setMonths,weekStartsOn:this.weekStartsOn}),tt(()=>{const a=document.getElementById(this.accessibleHeadingId);a&&(a.textContent=this.fullCalendarLabel)}),tt(()=>{const a=this.value.current;ia(()=>{a.start&&a.end?(this.startValue.current=a.start,this.endValue.current=a.end):a.start&&(this.startValue.current=a.start,this.endValue.current=void 0)})}),tt(()=>{this.value.current,ia(()=>{const a=this.value.current.start;a&&this.placeholder.current!==a&&(this.placeholder.current=a)})}),tt(()=>{const a=this.startValue.current,i=this.endValue.current;ia(()=>{const r=this.value.current;r&&r.start===a&&r.end===i||(a&&i?Me(this,$e,Wa).call(this,v=>{if(v.start===a&&v.end===i)return v;if(xt(i,a)){const l=a,o=i;return Me(this,$e,at).call(this,o),Me(this,$e,ft).call(this,l),{start:i,end:a}}else return{start:a,end:i}}):r&&r.start&&r.end&&(this.value.current={start:void 0,end:void 0}))})}),this.shiftFocus=this.shiftFocus.bind(this),this.handleCellClick=this.handleCellClick.bind(this),this.onkeydown=this.onkeydown.bind(this),this.nextPage=this.nextPage.bind(this),this.prevPage=this.prevPage.bind(this),this.nextYear=this.nextYear.bind(this),this.prevYear=this.prevYear.bind(this),this.setYear=this.setYear.bind(this),this.setMonth=this.setMonth.bind(this),this.isDateDisabled=this.isDateDisabled.bind(this),this.isDateUnavailable=this.isDateUnavailable.bind(this),this.isOutsideVisibleMonths=this.isOutsideVisibleMonths.bind(this),this.isSelected=this.isSelected.bind(this)}get months(){return t(te(this,vt))}set months(e){Oe(te(this,vt),pe(e))}get visibleMonths(){return t(te(this,Pt))}get focusedValue(){return t(te(this,_t))}set focusedValue(e){Oe(te(this,_t),pe(e))}get lastPressedDateValue(){return t(te(this,gt))}set lastPressedDateValue(e){Oe(te(this,gt),pe(e))}get weekdays(){return t(te(this,Vt))}isOutsideVisibleMonths(e){return!this.visibleMonths.some(a=>Ca(e,a))}isDateDisabled(e){if(this.isDateDisabledProp.current(e)||this.disabled.current)return!0;const a=this.minValue.current,i=this.maxValue.current;return!!(a&&xt(e,a)||i&&Ds(e,i))}isDateUnavailable(e){return!!this.isDateUnavailableProp.current(e)}get isStartInvalid(){return t(te(this,St))}get isEndInvalid(){return t(te(this,Tt))}get isInvalid(){return t(te(this,Ct))}get isNextButtonDisabled(){return t(te(this,Mt))}get isPrevButtonDisabled(){return t(te(this,zt))}get headingValue(){return t(te(this,Ot))}get fullCalendarLabel(){return t(te(this,Rt))}isSelectionStart(e){return this.startValue.current?Qe(e,this.startValue.current):!1}isSelectionEnd(e){return this.endValue.current?Qe(e,this.endValue.current):!1}isSelected(e){return this.startValue.current&&Qe(this.startValue.current,e)||this.endValue.current&&Qe(this.endValue.current,e)?!0:this.startValue.current&&this.endValue.current?Aa(e,this.startValue.current,this.endValue.current):!1}get highlightedRange(){return t(te(this,It))}shiftFocus(e,a){return Ss({node:e,add:a,placeholder:this.placeholder,calendarNode:this.ref.current,isPrevButtonDisabled:this.isPrevButtonDisabled,isNextButtonDisabled:this.isNextButtonDisabled,months:this.months,numberOfMonths:this.numberOfMonths.current})}handleCellClick(e,a){if(this.isDateDisabled(a)||this.isDateUnavailable(a))return;const i=this.lastPressedDateValue;if(this.lastPressedDateValue=a,this.startValue.current&&this.highlightedRange===null)if(Qe(this.startValue.current,a)&&!this.preventDeselect.current&&!this.endValue.current){Me(this,$e,at).call(this,void 0),this.placeholder.current=a,Me(this,$e,ua).call(this);return}else this.endValue.current||(e.preventDefault(),i&&Qe(i,a)&&(Me(this,$e,at).call(this,a),Me(this,$e,Dt).call(this,a)));if(this.startValue.current&&this.endValue.current&&Qe(this.endValue.current,a)&&!this.preventDeselect.current){Me(this,$e,at).call(this,void 0),Me(this,$e,ft).call(this,void 0),this.placeholder.current=a,Me(this,$e,ua).call(this);return}this.startValue.current?this.endValue.current?this.endValue.current&&this.startValue.current&&(Me(this,$e,ft).call(this,void 0),Me(this,$e,Dt).call(this,a),Me(this,$e,at).call(this,a)):(Me(this,$e,Ka).call(this,this.startValue.current,a),Me(this,$e,ft).call(this,a)):(Me(this,$e,Dt).call(this,a),Me(this,$e,at).call(this,a))}onkeydown(e){return Ts({event:e,handleCellClick:this.handleCellClick,placeholderValue:this.placeholder.current,shiftFocus:this.shiftFocus})}nextPage(){Cs({fixedWeeks:this.fixedWeeks.current,locale:this.locale.current,numberOfMonths:this.numberOfMonths.current,pagedNavigation:this.pagedNavigation.current,setMonths:this.setMonths,setPlaceholder:e=>this.placeholder.current=e,weekStartsOn:this.weekStartsOn.current,months:this.months})}prevPage(){Ms({fixedWeeks:this.fixedWeeks.current,locale:this.locale.current,numberOfMonths:this.numberOfMonths.current,pagedNavigation:this.pagedNavigation.current,setMonths:this.setMonths,setPlaceholder:e=>this.placeholder.current=e,weekStartsOn:this.weekStartsOn.current,months:this.months})}nextYear(){this.placeholder.current=this.placeholder.current.add({years:1})}prevYear(){this.placeholder.current=this.placeholder.current.subtract({years:1})}setYear(e){this.placeholder.current=this.placeholder.current.set({year:e})}setMonth(e){this.placeholder.current=this.placeholder.current.set({month:e})}getBitsAttr(e){return`data-range-calendar-${e}`}get snippetProps(){return t(te(this,Et))}get props(){return t(te(this,Nt))}}vt=new WeakMap,Pt=new WeakMap,_t=new WeakMap,gt=new WeakMap,$e=new WeakSet,Wa=function(e){var r,v;const a=this.value.current,i=e(a);this.value.current=i,i.start&&i.end&&((v=(r=this.onRangeSelect)==null?void 0:r.current)==null||v.call(r))},at=function(e){this.startValue.current=e},ft=function(e){this.endValue.current=e},Vt=new WeakMap,St=new WeakMap,Tt=new WeakMap,Ct=new WeakMap,Mt=new WeakMap,zt=new WeakMap,Ot=new WeakMap,Rt=new WeakMap,It=new WeakMap,ua=function(){this.announcer.announce("Selected date is now empty.","polite")},Dt=function(e){this.announcer.announce(`Selected Date: ${this.formatter.selectedDate(e,!1)}`,"polite")},Ka=function(e,a){this.announcer.announce(`Selected Dates: ${this.formatter.selectedDate(e,!1)} to ${this.formatter.selectedDate(a,!1)}`,"polite")},Et=new WeakMap,Nt=new WeakMap;var At,Ut,Lt,Ft,Bt,Wt,Kt,jt,Ht,qt,Yt,Gt,Zt,Jt,Qt,Xt;class cr{constructor(e,a){de(this,"root");de(this,"id");de(this,"ref");de(this,"date");de(this,"month");ne(this,At,f(()=>Os(this.date.current)));ne(this,Ut,f(()=>this.root.isDateDisabled(this.date.current)));ne(this,Lt,f(()=>this.root.isDateUnavailableProp.current(this.date.current)));ne(this,Ft,f(()=>Za(this.date.current,Ke())));ne(this,Bt,f(()=>!Ca(this.date.current,this.month.current)));ne(this,Wt,f(()=>this.root.isOutsideVisibleMonths(this.date.current)));ne(this,Kt,f(()=>Qe(this.date.current,this.root.placeholder.current)));ne(this,jt,f(()=>this.root.isSelected(this.date.current)));ne(this,Ht,f(()=>this.root.isSelectionStart(this.date.current)));ne(this,qt,f(()=>this.root.isSelectionEnd(this.date.current)));ne(this,Yt,f(()=>this.root.highlightedRange?Aa(this.date.current,this.root.highlightedRange.start,this.root.highlightedRange.end):!1));ne(this,Gt,f(()=>this.root.formatter.custom(this.cellDate,{weekday:"long",month:"long",day:"numeric",year:"numeric"})));ne(this,Zt,f(()=>({disabled:this.isDisabled,unavailable:this.isUnavailable,selected:this.isSelectedDate})));ne(this,Jt,f(()=>this.isDisabled||this.isOutsideMonth&&this.root.disableDaysOutsideMonth.current||this.isUnavailable));ne(this,Qt,f(()=>({"data-unavailable":Ja(this.isUnavailable),"data-today":this.isDateToday?"":void 0,"data-outside-month":this.isOutsideMonth?"":void 0,"data-outside-visible-months":this.isOutsideVisibleMonths?"":void 0,"data-focused":this.isFocusedDate?"":void 0,"data-selection-start":this.isSelectionStart?"":void 0,"data-selection-end":this.isSelectionEnd?"":void 0,"data-highlighted":this.isHighlighted?"":void 0,"data-selected":Qa(this.isSelectedDate),"data-value":this.date.current.toString(),"data-disabled":Xa(this.isDisabled||this.isOutsideMonth&&this.root.disableDaysOutsideMonth.current)})));ne(this,Xt,f(()=>({id:this.id.current,role:"gridcell","aria-selected":es(this.isSelectedDate),"aria-disabled":Ma(this.ariaDisabled),...this.sharedDataAttrs,[this.root.getBitsAttr("cell")]:""})));this.root=a,this.id=e.id,this.ref=e.ref,this.date=e.date,this.month=e.month,_a({id:this.id,ref:this.ref})}get cellDate(){return t(te(this,At))}get isDisabled(){return t(te(this,Ut))}get isUnavailable(){return t(te(this,Lt))}get isDateToday(){return t(te(this,Ft))}get isOutsideMonth(){return t(te(this,Bt))}get isOutsideVisibleMonths(){return t(te(this,Wt))}get isFocusedDate(){return t(te(this,Kt))}get isSelectedDate(){return t(te(this,jt))}get isSelectionStart(){return t(te(this,Ht))}get isSelectionEnd(){return t(te(this,qt))}get isHighlighted(){return t(te(this,Yt))}get labelText(){return t(te(this,Gt))}get snippetProps(){return t(te(this,Zt))}get ariaDisabled(){return t(te(this,Jt))}get sharedDataAttrs(){return t(te(this,Qt))}get props(){return t(te(this,Xt))}}At=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,Wt=new WeakMap,Kt=new WeakMap,jt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Yt=new WeakMap,Gt=new WeakMap,Zt=new WeakMap,Jt=new WeakMap,Qt=new WeakMap,Xt=new WeakMap;var ea,ta,aa;class ur{constructor(e,a){de(this,"cell");de(this,"id");de(this,"ref");ne(this,ea,f(()=>this.cell.isFocusedDate?0:this.cell.isOutsideMonth&&this.cell.root.disableDaysOutsideMonth.current||this.cell.isDisabled?void 0:-1));ne(this,ta,f(()=>({disabled:this.cell.isDisabled,unavailable:this.cell.isUnavailable,selected:this.cell.isSelectedDate,day:`${this.cell.date.current.day}`})));ne(this,aa,f(()=>({id:this.id.current,role:"button","aria-label":this.cell.labelText,"aria-disabled":Ma(this.cell.ariaDisabled),...this.cell.sharedDataAttrs,tabindex:t(te(this,ea)),[this.cell.root.getBitsAttr("day")]:"","data-bits-day":"",onclick:this.onclick,onmouseenter:this.onmouseenter,onfocusin:this.onfocusin})));this.cell=a,this.id=e.id,this.ref=e.ref,_a({id:this.id,ref:this.ref}),this.onclick=this.onclick.bind(this),this.onmouseenter=this.onmouseenter.bind(this),this.onfocusin=this.onfocusin.bind(this)}onclick(e){this.cell.isDisabled||this.cell.root.handleCellClick(e,this.cell.date.current)}onmouseenter(e){this.cell.isDisabled||(this.cell.root.focusedValue=this.cell.date.current)}onfocusin(e){this.cell.isDisabled||(this.cell.root.focusedValue=this.cell.date.current)}get snippetProps(){return t(te(this,ta))}get props(){return t(te(this,aa))}}ea=new WeakMap,ta=new WeakMap,aa=new WeakMap;const ja=new ts("RangeCalendar.Cell");function hr(n){return Na.set(new dr(n))}function fr(n){return ja.set(new cr(n,Na.get()))}function vr(n){return new ur(n,ja.get())}var _r=m("<td><!></td>");function gr(n,e){Se(e,!0);let a=A(e,"id",19,ra),i=A(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","children","child","id","ref","date","month"]);const v=fr({id:ge.with(()=>a()),ref:ge.with(()=>i(),Q=>i(Q)),date:ge.with(()=>e.date),month:ge.with(()=>e.month)}),l=f(()=>ga(r,v.props));var o=k(),D=c(o);{var U=Q=>{var re=k(),ae=c(re),H=va(()=>({props:t(l),...v.snippetProps}));rt(ae,()=>e.child,()=>t(H)),s(Q,re)},ce=Q=>{var re=_r();let ae;var H=R(re);rt(H,()=>e.children??sa,()=>v.snippetProps),T(re),ye(()=>ae=qe(re,ae,{...t(l)})),s(Q,re)};we(D,Q=>{e.child?Q(U):Q(ce,!1)})}s(n,o),Te()}var mr=m("<div><!></div>");function br(n,e){Se(e,!0);let a=A(e,"id",19,ra),i=A(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const v=vr({id:ge.with(()=>a()),ref:ge.with(()=>i(),Q=>i(Q))}),l=f(()=>ga(r,v.props));var o=k(),D=c(o);{var U=Q=>{var re=k(),ae=c(re),H=va(()=>({props:t(l),...v.snippetProps}));rt(ae,()=>e.child,()=>t(H)),s(Q,re)},ce=Q=>{var re=mr();let ae;var H=R(re);{var De=le=>{var b=k(),K=c(b);rt(K,()=>e.children??sa,()=>v.snippetProps),s(le,b)},Pe=le=>{var b=je();ye(()=>Xe(b,v.cell.date.current.day)),s(le,b)};we(H,le=>{e.children?le(De):le(Pe,!1)})}T(re),ye(()=>ae=qe(re,ae,{...t(l)})),s(Q,re)};we(D,Q=>{e.child?Q(U):Q(ce,!1)})}s(n,o),Te()}var pr=m("<div><!></div>");function $r(n,e){var X,z,S;Se(e,!0);let a=A(e,"id",19,ra),i=A(e,"ref",15,null),r=A(e,"value",15),v=A(e,"onValueChange",3,bt),l=A(e,"placeholder",15),o=A(e,"onPlaceholderChange",3,bt),D=A(e,"weekdayFormat",3,"narrow"),U=A(e,"weekStartsOn",3,0),ce=A(e,"pagedNavigation",3,!1),Q=A(e,"isDateDisabled",3,()=>!1),re=A(e,"isDateUnavailable",3,()=>!1),ae=A(e,"fixedWeeks",3,!1),H=A(e,"numberOfMonths",3,1),De=A(e,"locale",3,"en"),Pe=A(e,"calendarLabel",3,"Event"),le=A(e,"disabled",3,!1),b=A(e,"readonly",3,!1),K=A(e,"minValue",3,void 0),C=A(e,"maxValue",3,void 0),ie=A(e,"preventDeselect",3,!1),ue=A(e,"disableDaysOutsideMonth",3,!0),M=A(e,"onStartValueChange",3,bt),Z=A(e,"onEndValueChange",3,bt),O=Re(e,["$$slots","$$events","$$legacy","children","child","id","ref","value","onValueChange","placeholder","onPlaceholderChange","weekdayFormat","weekStartsOn","pagedNavigation","isDateDisabled","isDateUnavailable","fixedWeeks","numberOfMonths","locale","calendarLabel","disabled","readonly","minValue","maxValue","preventDeselect","disableDaysOutsideMonth","onStartValueChange","onEndValueChange"]),J=Fe(pe((X=r())==null?void 0:X.start)),P=Fe(pe((z=r())==null?void 0:z.end));if(l()===void 0){const g=Rs({defaultPlaceholder:void 0,defaultValue:(S=r())==null?void 0:S.start});l(g)}r()===void 0&&r({start:void 0,end:void 0});const u=hr({id:ge.with(()=>a()),ref:ge.with(()=>i(),g=>i(g)),value:ge.with(()=>r(),g=>{r(g),v()(g)}),placeholder:ge.with(()=>l(),g=>{l(g),o()(g)}),disabled:ge.with(()=>le()),readonly:ge.with(()=>b()),preventDeselect:ge.with(()=>ie()),minValue:ge.with(()=>K()),maxValue:ge.with(()=>C()),isDateUnavailable:ge.with(()=>re()),isDateDisabled:ge.with(()=>Q()),pagedNavigation:ge.with(()=>ce()),weekStartsOn:ge.with(()=>U()),weekdayFormat:ge.with(()=>D()),numberOfMonths:ge.with(()=>H()),locale:ge.with(()=>De()),calendarLabel:ge.with(()=>Pe()),fixedWeeks:ge.with(()=>ae()),disableDaysOutsideMonth:ge.with(()=>ue()),startValue:ge.with(()=>t(J),g=>{Oe(J,pe(g)),M()(g)}),endValue:ge.with(()=>t(P),g=>{Oe(P,pe(g)),Z()(g)})}),p=f(()=>ga(O,u.props));var G=k(),_=c(G);{var h=g=>{var E=k(),N=c(E),ee=va(()=>({props:t(p),...u.snippetProps}));rt(N,()=>e.child,()=>t(ee)),s(g,E)},I=g=>{var E=pr();let N;var ee=R(E);rt(ee,()=>e.children??sa,()=>u.snippetProps),T(E),ye(()=>N=qe(E,N,{...t(p)})),s(g,E)};we(_,g=>{e.child?g(h):g(I,!1)})}s(n,G),Te()}var xr=m("<!> <!> <!>",1),yr=m("<!> <!>",1),Dr=m("<!> <!>",1);function Ha(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=A(e,"value",15),r=A(e,"placeholder",15),v=A(e,"weekdayFormat",3,"short"),l=Re(e,["$$slots","$$events","$$legacy","ref","value","placeholder","weekdayFormat","class"]);var o=k(),D=c(o);const U=f(()=>Be("p-3",e.class));d(D,()=>$r,(ce,Q)=>{Q(ce,ke({get weekdayFormat(){return v()},get class(){return t(U)}},()=>l,{get ref(){return a()},set ref(ae){a(ae)},get value(){return i()},set value(ae){i(ae)},get placeholder(){return r()},set placeholder(ae){r(ae)},children:(ae,H)=>{let De=()=>H==null?void 0:H().months,Pe=()=>H==null?void 0:H().weekdays;var le=Dr(),b=c(le);d(b,()=>Vr,(C,ie)=>{ie(C,{children:(ue,M)=>{var Z=xr(),O=c(Z);d(O,()=>Ir,(u,p)=>{p(u,{})});var J=$(O,2);d(J,()=>Cr,(u,p)=>{p(u,{})});var P=$(J,2);d(P,()=>Or,(u,p)=>{p(u,{})}),s(ue,Z)},$$slots:{default:!0}})});var K=$(b,2);d(K,()=>Tr,(C,ie)=>{ie(C,{children:(ue,M)=>{var Z=k(),O=c(Z);Ze(O,17,De,Je,(J,P)=>{var u=k(),p=c(u);d(p,()=>Pr,(G,_)=>{_(G,{children:(h,I)=>{var X=yr(),z=c(X);d(z,()=>Er,(g,E)=>{E(g,{children:(N,ee)=>{var _e=k(),me=c(_e);d(me,()=>Sa,(he,fe)=>{fe(he,{class:"flex",children:(be,Ce)=>{var se=k(),y=c(se);Ze(y,17,Pe,Je,(V,L)=>{var B=k(),w=c(B);d(w,()=>Mr,(q,ve)=>{ve(q,{children:(F,j)=>{Ge();var W=je();ye(Y=>Xe(W,Y),[()=>t(L).slice(0,2)]),s(F,W)},$$slots:{default:!0}})}),s(V,B)}),s(be,se)},$$slots:{default:!0}})}),s(N,_e)},$$slots:{default:!0}})});var S=$(z,2);d(S,()=>Nr,(g,E)=>{E(g,{children:(N,ee)=>{var _e=k(),me=c(_e);Ze(me,17,()=>t(P).weeks,Je,(he,fe)=>{var be=k(),Ce=c(be);d(Ce,()=>Sa,(se,y)=>{y(se,{class:"mt-2 w-full",children:(V,L)=>{var B=k(),w=c(B);Ze(w,17,()=>t(fe),Je,(q,ve)=>{var F=k(),j=c(F);d(j,()=>wr,(W,Y)=>{Y(W,{get date(){return t(ve)},get month(){return t(P).value},children:(Ve,x)=>{var oe=k(),xe=c(oe);d(xe,()=>kr,(We,Ie)=>{Ie(We,{})}),s(Ve,oe)},$$slots:{default:!0}})}),s(q,F)}),s(V,B)},$$slots:{default:!0}})}),s(he,be)}),s(N,_e)},$$slots:{default:!0}})}),s(h,X)},$$slots:{default:!0}})}),s(J,u)}),s(ue,Z)},$$slots:{default:!0}})}),s(ae,le)},$$slots:{default:!0}}))}),s(n,o),Te()}function wr(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var r=k(),v=c(r);const l=f(()=>Be("[&:has([data-selected])]:bg-accent [&:has([data-selected][data-outside-month])]:bg-accent/50 relative size-9 p-0 text-center text-sm focus-within:relative focus-within:z-20 first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",e.class));d(v,()=>gr,(o,D)=>{D(o,ke({get class(){return t(l)}},()=>i,{get ref(){return a()},set ref(U){a(U)}}))}),s(n,r),Te()}function kr(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=A(e,"class",7),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var v=k(),l=c(v);const o=f(()=>Be(ma({variant:"ghost"}),"size-9 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-month]:text-muted-foreground [&[data-outside-month][data-selected]]:bg-accent/50 [&[data-outside-month][data-selected]]:text-muted-foreground data-[outside-month]:pointer-events-none data-[outside-month]:opacity-50 [&[data-outside-month][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",i()));return d(l,()=>br,(D,U)=>{U(D,ke({get class(){return t(o)}},()=>r,{get ref(){return a()},set ref(ce){a(ce)}}))}),s(n,v),Te({get class(){return i()},set class(D){i(D)}})}function Pr(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var r=k(),v=c(r);const l=f(()=>Be("w-full border-collapse space-y-1",e.class));d(v,()=>Is,(o,D)=>{D(o,ke({get class(){return t(l)}},()=>i,{get ref(){return a()},set ref(U){a(U)}}))}),s(n,r),Te()}function Vr(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var r=k(),v=c(r);const l=f(()=>Be("relative flex w-full items-center justify-between pt-1",e.class));d(v,()=>Es,(o,D)=>{D(o,ke({get class(){return t(l)}},()=>i,{get ref(){return a()},set ref(U){a(U)}}))}),s(n,r),Te()}var Sr=m("<div><!></div>");function Tr(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Sr();let v;var l=R(r);rt(l,()=>e.children??sa),T(r),ct(r,o=>a(o),()=>a()),ye(o=>v=qe(r,v,{class:o,...i}),[()=>Be("mt-4 flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0",e.class)]),s(n,r),Te()}function Sa(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var r=k(),v=c(r);const l=f(()=>Be("flex",e.class));d(v,()=>Ns,(o,D)=>{D(o,ke({get class(){return t(l)}},()=>i,{get ref(){return a()},set ref(U){a(U)}}))}),s(n,r),Te()}function Cr(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var r=k(),v=c(r);const l=f(()=>Be("text-sm font-medium",e.class));d(v,()=>As,(o,D)=>{D(o,ke({get class(){return t(l)}},()=>i,{get ref(){return a()},set ref(U){a(U)}}))}),s(n,r),Te()}function Mr(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var r=k(),v=c(r);const l=f(()=>Be("text-muted-foreground w-9 rounded-md text-[0.8rem] font-normal",e.class));d(v,()=>Us,(o,D)=>{D(o,ke({get class(){return t(l)}},()=>i,{get ref(){return a()},set ref(U){a(U)}}))}),s(n,r),Te()}const zr=n=>{Ba(n,{class:"size-4"})};function Or(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=k(),v=c(r);const l=f(()=>Be(ma({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)),o=f(()=>e.children||zr);d(v,()=>Ls,(D,U)=>{U(D,ke({get class(){return t(l)},get children(){return t(o)}},()=>i,{get ref(){return a()},set ref(ce){a(ce)}}))}),s(n,r),Te()}const Rr=n=>{La(n,{class:"size-4"})};function Ir(n,e){Se(e,!0);let a=A(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=k(),v=c(r);const l=f(()=>Be(ma({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100",e.class)),o=f(()=>e.children||Rr);d(v,()=>Fs,(D,U)=>{U(D,ke({get class(){return t(l)},get children(){return t(o)}},()=>i,{get ref(){return a()},set ref(ce){a(ce)}}))}),s(n,r),Te()}const Er=Bs,Nr=Ws;function Ar(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"arrow-right"},()=>a,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Ur(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"book-open"},()=>a,{iconNode:[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Lr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"calendar-fold"},()=>a,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["path",{d:"M21 17V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11Z"}],["path",{d:"M3 10h18"}],["path",{d:"M15 22v-4a2 2 0 0 1 2-2h4"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Fr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"clock"},()=>a,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function ha(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"diamond"},()=>a,{iconNode:[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Br(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"ellipsis-vertical"},()=>a,{iconNode:[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Wr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"file-plus"},()=>a,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M9 15h6"}],["path",{d:"M12 18v-6"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Kr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"list-checks"},()=>a,{iconNode:[["path",{d:"m3 17 2 2 4-4"}],["path",{d:"m3 7 2 2 4-4"}],["path",{d:"M13 6h8"}],["path",{d:"M13 12h8"}],["path",{d:"M13 18h8"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function jr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"move"},()=>a,{iconNode:[["path",{d:"M12 2v20"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m19 9 3 3-3 3"}],["path",{d:"M2 12h20"}],["path",{d:"m5 9-3 3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Hr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"square-check"},()=>a,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"m9 12 2 2 4-4"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Ta(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"square"},()=>a,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function qr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"ungroup"},()=>a,{iconNode:[["rect",{width:"8",height:"6",x:"5",y:"4",rx:"1"}],["rect",{width:"8",height:"6",x:"11",y:"14",rx:"1"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}function Yr(n,e){const a=Ue(e,["children","$$slots","$$events","$$legacy"]);Ne(n,ke({name:"waypoints"},()=>a,{iconNode:[["circle",{cx:"12",cy:"4.5",r:"2.5"}],["path",{d:"m10.2 6.3-3.9 3.9"}],["circle",{cx:"4.5",cy:"12",r:"2.5"}],["path",{d:"M7 12h10"}],["circle",{cx:"19.5",cy:"12",r:"2.5"}],["path",{d:"m13.8 17.7 3.9-3.9"}],["circle",{cx:"12",cy:"19.5",r:"2.5"}]],children:(r,v)=>{var l=k(),o=c(l);Ae(o,e,"default",{}),s(r,l)},$$slots:{default:!0}}))}const yl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Gr=m('<div class="absolute top-0.5 w-4 h-4 rotate-45 border border-zinc-900 -z-10 bg-inherit -left-2 svelte-2i04ta"></div> <div class="absolute top-0.5 w-4 h-4 rotate-45 border-2 border-zinc-900 -z-10 bg-inherit -right-2 svelte-2i04ta"></div>',1),Zr=m('<div class="relative w-full h-full border-t border-b-2 shadow-lg bg-zinc-400 border-zinc-900"><div class="h-5 p-0 m-0 bg-zinc-400 svelte-2i04ta"><!></div></div>'),Jr=m("<td><!></td>"),Qr=m("<tr></tr>"),Xr=m('<tr><td class="p-0"><table class="w-full table-fixed"><!></table></td></tr>'),en=m("<!> <!>",1);function qa(n,e){Se(e,!0);const[a,i]=mt(),r=()=>Le(re,"$selectedDate",a),v=()=>Le(ce,"$group",a),l=()=>Le(U,"$item",a);let o=A(e,"treeItems",19,()=>[]),D=A(e,"level",3,0);const{elements:{item:U,group:ce},helpers:{isExpanded:Q}}=He("tree"),re=He("selectedDateRange");function ae(b){if(!(b!=null&&b.startDate)||!(b!=null&&b.endDate))return{task_start:0,task_duration:0,task_end:0};const K=Da(b==null?void 0:b.startDate),C=Da(b==null?void 0:b.endDate);return{task_start:yt(r().start,K),task_duration:yt(K,C),task_end:yt(C,r().end)}}function H(b){return b.task_start+b.task_duration+b.task_end>0}function De(b){const{task_start:K,task_duration:C,task_end:ie}=b;return K===0&&ie===0?[{colspan:C+K+1,isTask:!0}]:K<=0?[{colspan:C+K+1,isTask:!0},{colspan:ie,isTask:!1}]:ie<=0?[{colspan:K,isTask:!1},{colspan:C+ie+1,isTask:!0}]:[{colspan:K,isTask:!1},{colspan:C+1,isTask:!0},{colspan:ie,isTask:!1}]}var Pe=k(),le=c(Pe);Ze(le,17,o,Je,(b,K)=>{let C=()=>t(K).task,ie=()=>t(K).subtasks;var ue=en();const M=f(()=>{var h;return`${(h=C())==null?void 0:h.id}`}),Z=f(()=>{var h;return!!((h=ie())!=null&&h.length)}),O=f(()=>ae(C())),J=f(()=>v()({id:t(M)})),P=f(()=>l()({id:t(M),hasChildren:t(Z)}));var u=c(ue);{var p=h=>{var I=Qr();let X;Ze(I,21,()=>De(t(O)),Je,(z,S)=>{let g=()=>t(S).colspan,E=()=>t(S).isTask;var N=Jr(),ee=R(N);{var _e=me=>{var he=Zr(),fe=R(he),be=R(fe);{var Ce=se=>{var y=Gr(),V=c(y),L=$(V,2);ye(()=>{var B,w;Ye(V,"none",((B=C())==null?void 0:B.progress_rate)<=0),Ye(L,"complete",((w=C())==null?void 0:w.progress_rate)===100)}),s(se,y)};we(be,se=>{var y;(y=C())!=null&&y.milestone&&se(Ce)})}T(fe),T(he),ye(()=>{var se,y,V,L,B,w;Ye(fe,"task",!((se=C())!=null&&se.milestone)),Ye(fe,"complete",((y=C())==null?void 0:y.progress_rate)===100),Ye(fe,"start",((V=C())==null?void 0:V.progress_rate)>0&&((L=C())==null?void 0:L.progress_rate)<=25),Ye(fe,"inProgress",((B=C())==null?void 0:B.progress_rate)>25&&((w=C())==null?void 0:w.progress_rate)<100)}),s(me,he)};we(ee,me=>{E()&&me(_e)})}T(N),ye(()=>dt(N,"colspan",g())),s(z,N)}),T(I),kt(I,z=>{var S,g;return(g=(S=t(P)).action)==null?void 0:g.call(S,z)}),ye(()=>X=qe(I,X,{class:"h-[30px] border-b",...t(P)},"svelte-2i04ta")),s(h,I)};we(u,h=>{H(t(O))&&h(p)})}var G=$(u,2);{var _=h=>{var I=Xr();let X;var z=R(I),S=R(z),g=R(S);const E=f(()=>D()+1);qa(g,{get treeItems(){return ie()},get totalDays(){return e.totalDays},get level(){return t(E)}}),T(S),T(z),T(I),kt(I,N=>{var ee,_e;return(_e=(ee=t(J)).action)==null?void 0:_e.call(ee,N)}),ye(()=>{X=qe(I,X,{...t(J)},"svelte-2i04ta"),dt(z,"colspan",e.totalDays)}),s(h,I)};we(G,h=>{t(Z)&&h(_)})}s(b,ue)}),s(n,Pe),Te(),i()}var tn=m('<td class="border-b-2 border-r border-zinc-600"> </td>'),an=m('<td class="py-0 text-xs border-b-4 border-r border-zinc-600 text-zinc-600"><div><div class="py-0 text-xs"> </div> <div class="-translate-y-0.5 border-[0.5px] border-dotted border-zinc-700"></div> <div> </div></div></td>'),sn=m('<div class=" pointer-events-none fixed z-10 h-[calc(100%-44px)] border-4 border-double top-[32px] bg-violet-100/10 border-zinc-400/10"></div>'),rn=m('<div class="w-full h-full max-h-full overflow-x-scroll overflow-y-scroll border-2 no-scrollbar border-zinc-800"><table class="relative w-full border-separate table-fixed border-spacing-0"><thead class="sticky top-0 z-10 text-center bg-white shadow-lg"><tr class="text-center text-[1rem] h-7"></tr><tr class="text-center"></tr></thead><tbody><!></tbody></table></div> <!>',1);function nn(n,e){Se(e,!0);const[a,i]=mt(),r=()=>Le(o,"$selectedDate",a);let v=A(e,"treeItems",27,()=>pe([]));const l=["S","M","T","W","T","F","S"],o=He("selectedDateRange");let D=f(()=>({value:ut(Ke()),dates:as(r().start,r().end)||[],duration:yt(r().start,r().end)})),U=f(()=>ss(t(D).dates)),ce=f(()=>t(D).dates.length),Q=f(()=>t(D).dates.findIndex(u=>u.compare(ut(Ke()))===0)),re=f(()=>t(Q)!==-1?t(Q)/t(ce)*100:null);const ae=na();let H=Fe(void 0);function De(){ae("scroll",{scrollTop:t(H).scrollTop,scrollLeft:t(H).scrollLeft})}function Pe(u){t(H)&&(t(H).scrollTop=u.scrollTop,t(H).scrollLeft=u.scrollLeft)}var le=rn(),b=c(le),K=R(b),C=R(K),ie=R(C);Ze(ie,21,()=>t(U),Je,(u,p)=>{var G=tn(),_=R(G,!0);T(G),ye(()=>{dt(G,"colspan",t(p).count),Xe(_,t(p).month)}),s(u,G)}),T(ie);var ue=$(ie);Ze(ue,21,()=>t(D).dates,Je,(u,p)=>{var G=an();const _=f(()=>t(p).toDate().getDay());var h=R(G),I=R(h),X=R(I,!0);T(I);var z=$(I,4),S=R(z,!0);T(z),T(h),T(G),ye(g=>{dt(G,"style",`width: calc(${100/t(ce)}%);`),ca(h,da(t(_)===0?" border-r border-zinc-900 bg-gradient-to-b from-pomodoro-500/10 to-zinc-100":t(_)===6?"bg-gradient-to-b from-blue-500/10 to-zinc-100":"")),Xe(X,l[t(_)]),Xe(S,g)},[()=>t(p).toString().split("-")[2]]),s(u,G)}),T(ue),T(C);var M=$(C),Z=R(M);qa(Z,{get treeItems(){return v()},get totalDays(){return t(ce)}}),T(M),T(K),T(b),ct(b,u=>Oe(H,u),()=>t(H));var O=$(b,2);{var J=u=>{var p=sn();ye(()=>dt(p,"style",`left: ${t(re)??""}%; width: calc(${100/t(ce)}%);`)),s(u,p)};we(O,u=>{t(re)&&u(J)})}et("scroll",b,De),s(n,le);var P=Te({updateScrollPosition:Pe});return i(),P}var ln=m('<div class="flex justify-center w-full py-1 space-x-2 border-b-2 shadow rounded-t-xl border-zinc-500"><!> <div class="font-mono font-semibold text-unwrap">Add Task with Bot!</div></div> <!>',1),on=m("<!> <!>",1),dn=(n,e)=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),e(n))},cn=m('<form class="relative flex items-center w-full h-full p-1"><div class="flex flex-col h-[70px] space-y-1 translate-y-0.5 -translate-x-1 justify-evenly"><!> <!></div> <textarea placeholder="title : put more than 1 char" class="absolute right-2 top-0.5 border rounded-lg ml-2 h-full w-10/12 scale-y-95 p-2 pr-9 text-[0.9rem] font-normal focus:shadow"></textarea></form>'),un=m('<!> <div class="-translate-x-2 w-full text-xs text-center font-digital text-zinc-600 text-nowrap bg-zinc-100"><span class="text-zinc-950">▶- Assign :</span> <!> <span class="text-zinc-950">-◀</span></div> <!> <!>',1),hn=m('<div class="relative flex flex-col w-full h-full"><div class="relative flex flex-col justify-between h-full bg-white shadow rounded-xl"><!></div></div>');function fn(n,e){Se(e,!0);const[a,i]=mt(),r=()=>Le(v,"$selectedDate",a),v=He("selectedDateRange"),l=He("handleCreateTask"),o=ut(Ke());let D=Fe(!0),U=Fe(pe({start:r().start.add({days:7}),end:r().start.add({days:13})}));Ea(async()=>{await ya(),Oe(U,pe({start:r().start.add({days:7}),end:r().start.add({days:13})}))}),He("treeItems");function ce(){Oe(Q,pe({title:"",startDate:o,endDate:o.add({days:0})}))}let Q=Fe(pe({title:"",startDate:o,endDate:o.add({days:0})}));async function re(le){le.preventDefault(),t(Q).title.trim()!==""&&(await ya(),ae({title:t(Q).title,startDate:t(U).start,endDate:t(U).end}),ce())}na();function ae(le){l(le,"CREATE_TASK_WITH_TITLE")}var H=hn(),De=R(H),Pe=R(De);d(Pe,()=>er,(le,b)=>{b(le,{direction:"vertical",class:"flex w-full py-1 space-x-2 shadow rounded-t-xl",children:(K,C)=>{var ie=un(),ue=c(ie);d(ue,()=>Pa,(P,u)=>{u(P,{minSize:14,class:"relative",children:(p,G)=>{var _=ln(),h=c(_),I=R(h);Js(I,{size:16}),Ge(2),T(h);var X=$(h,2);st(X,{variant:"secondary",size:"sm",class:"absolute bottom-1 right-1 w-auto h-8 p-2 text-xs rounded-lg shadow",children:(z,S)=>{Fa(z,{size:16})},$$slots:{default:!0}}),s(p,_)},$$slots:{default:!0}})});var M=$(ue,2),Z=$(R(M),2);d(Z,()=>Oa,(P,u)=>{u(P,{closeOnItemClick:!1,children:(p,G)=>{var _=on(),h=c(_);d(h,()=>Ra,(X,z)=>{z(X,{class:"p-0 rounded h-9",children:(S,g)=>{st(S,{variant:"ghost",size:"sm",class:"w-auto h-6 p-1.5 text-xs bg-white rounded-lg shadow",children:(E,N)=>{Ge();var ee=je();ye(()=>Xe(ee,t(U).start+" ~ "+t(U).end)),s(E,ee)},$$slots:{default:!0}})},$$slots:{default:!0}})});var I=$(h,2);d(I,()=>Ia,(X,z)=>{z(X,{class:"w-[300px] border-2 border-double border-zinc-800",children:(S,g)=>{Ha(S,{weekStartsOn:1,class:"w-[290px] rounded-lg border bg-white shadow",get value(){return t(U)},set value(E){Oe(U,pe(E))}})},$$slots:{default:!0}})}),s(p,_)},$$slots:{default:!0}})}),Ge(2),T(M);var O=$(M,2);d(O,()=>Qs,(P,u)=>{u(P,{withHandle:!0,class:"-translate-x-2 bg-zinc-400",handleClass:"absolute left-4"})});var J=$(O,2);d(J,()=>Pa,(P,u)=>{u(P,{minSize:14,defaultSize:14,children:(p,G)=>{var _=cn(),h=R(_),I=R(h);st(I,{variant:"ghost",size:"sm",class:"w-auto h-8 p-1.5 text-xs bg-white rounded-lg shadow",children:(S,g)=>{Kr(S,{size:16})},$$slots:{default:!0}});var X=$(I,2);Xs(X,{onclick:()=>Oe(D,!t(D)),class:"w-8 h-5 data-[state=checked]:bg-emerald-700",get checked(){return t(D)}}),T(h);var z=$(h,2);Ys(z),z.__keydown=[dn,re],T(_),et("submit",_,re),fs(z,()=>t(Q).title,S=>t(Q).title=S),s(p,_)},$$slots:{default:!0}})}),s(K,ie)},$$slots:{default:!0}})}),T(De),T(H),s(n,H),Te(),i()}Ua(["keydown"]);var vn=m("<!> <!>",1),_n=m("<!> <!>",1),gn=m('<div class="relative flex items-center w-full h-9 gap-2 "><!> <!> <!></div>');function mn(n,e){Se(e,!0);const a=ut(Ke()),i=new Gs("en-US",{month:"short",day:"numeric"});let r=Fe(pe(za()||wt()));function v(){Oe(r,pe(wt())),e.update(t(r))}var l=gn(),o=R(l);st(o,{class:"h-8 w-8 !p-1",variant:"ghost",onclick:()=>{t(r).start=t(r).start.subtract({days:7}),t(r).end=t(r).end.subtract({days:7}),e.update(t(r))},children:(ce,Q)=>{La(ce,{size:20})},$$slots:{default:!0}});var D=$(o,2);d(D,()=>us,(ce,Q)=>{Q(ce,{openFocus:!0,onOpenChange:()=>{e.update(t(r))},children:(re,ae)=>{var H=_n(),De=c(H);d(De,()=>os,(le,b)=>{b(le,{children:(K,C)=>{var ie=vn(),ue=c(ie);const M=f(()=>Be("w-[230px] h-9 py-2.5 px-4 min-w-[230px] lg:w-[calc(100%-230px)] justify-start  font-semibold text-zinc-600"));st(ue,{variant:"outline",get class(){return t(M)},children:(O,J)=>{var P=k(),u=c(P);{var p=_=>{var h=k(),I=c(h);{var X=S=>{var g=je();ye((E,N)=>Xe(g,`${E??""} - ${N??""}`),[()=>i.format(t(r).start.toDate(Ke())),()=>i.format(t(r).end.toDate(Ke()))]),s(S,g)},z=S=>{var g=je();ye(E=>Xe(g,E),[()=>i.format(t(r).start.toDate(Ke()))]),s(S,g)};we(I,S=>{t(r).end?S(X):S(z,!1)})}s(_,h)},G=_=>{var h=k(),I=c(h);{var X=S=>{var g=je();ye(E=>Xe(g,E),[()=>i.format(a.toDate(Ke()))]),s(S,g)},z=S=>{var g=je("Pick a date");s(S,g)};we(I,S=>{a?S(X):S(z,!1)},!0)}s(_,h)};we(u,_=>{t(r)&&t(r).start?_(p):_(G,!1)})}s(O,P)},$$slots:{default:!0}});var Z=$(ue,2);st(Z,{variant:"secondary",class:" absolute top-1.5 right-2.5 h-6 px-1 shadow -translate-x-9",onclick:()=>{v()},children:(O,J)=>{ds(O,{size:18,strokeWidth:2.2})},$$slots:{default:!0}}),s(K,ie)},$$slots:{default:!0}})});var Pe=$(De,2);d(Pe,()=>cs,(le,b)=>{b(le,{class:"w-auto p-0 translate-y-0 translate-x-4",align:"center",children:(K,C)=>{const ie=f(()=>{var ue;return(ue=t(r))==null?void 0:ue.start});Ha(K,{initialFocus:!0,weekStartsOn:1,numberOfMonths:2,get placeholder(){return t(ie)},get value(){return t(r)},set value(ue){Oe(r,pe(ue))}})},$$slots:{default:!0}})}),s(re,H)},$$slots:{default:!0}})});var U=$(D,2);st(U,{class:"h-8 w-8 !p-1",variant:"ghost",onclick:()=>{t(r).start=t(r).start.add({days:7}),t(r).end=t(r).end.add({days:7}),e.update(t(r))},children:(ce,Q)=>{Ba(ce,{size:20})},$$slots:{default:!0}}),T(l),s(n,l),Te()}var bn=m("<td><!></td>"),pn=m('<button class="relative h-8">task🔻</button>'),$n=m('<button class=" h-7">subtask</button>'),xn=m("<!> <!> <!>",1),yn=m('<button class=" h-7">ungroup</button>'),Dn=m('<button class=" h-7">new group</button>'),wn=m("<!> <!>",1),kn=m('<button class="relative -translate-y-1"><!> <span class="absolute -left-0.5 -bottom-3.5">open</span></button>'),Pn=m('<button class="relative -translate-y-1"><!><span class="absolute -left-1 -bottom-3.5">page</span></button>'),Vn=m("<!> <!>",1),Sn=m('<button class="flex h-8 p-1.5">new note</button>'),Tn=m("<!> <!>",1),Cn=m("<button>Delete Task</button>"),Mn=m("<button>task로 전환</button>"),zn=m("<button>제거</button>"),On=m('<div class="flex flex-col w-full items-center justify-center"><div class="text-xs text-zinc-500">task 삭제 시 subtask?</div> <div class="flex w-full items-center justify-center"><!> <!></div></div>'),Rn=m("<!> <!>",1),In=m("<button><!></button>"),En=m("<button><!></button>"),Nn=m("<button><!></button>"),An=(n,e)=>Oe(e,!t(e)),Un=m("<button><!></button>"),Ln=m("<!> <!> <!> <!>",1),Fn=m("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1),Bn=m("<!> <!>",1),Wn=m('<div class="flex flex-col w-6 max-h-full overflow-y-scroll no-scrollbar"><table class="w-full"><tbody><tr class="z-10 flex h-[30px] items-center"><!></tr></tbody></table></div>');function Kn(n,e){Se(e,!0);let a=A(e,"hasNote",3,!1),i=Fe(!1);na();const r=He("handleUpdateTask"),v=He("handleCreateTask"),l=He("handleDeleteTask");function o(b,K){l(b,K)}function D(b,K){v(b,K)}function U(b,K,C){const ie={[K]:C};r(b,ie)}function ce(b){}function Q(b){}function re(b){}var ae=Wn(),H=R(ae),De=R(H),Pe=R(De),le=R(Pe);d(le,()=>Oa,(b,K)=>{K(b,{children:(C,ie)=>{var ue=Bn(),M=c(ue);d(M,()=>Ra,(O,J)=>{J(O,{children:(P,u)=>{var p=bn(),G=R(p);Br(G,{color:"#3f3f46",strokeWidth:2,size:20}),T(p),s(P,p)},$$slots:{default:!0}})});var Z=$(M,2);d(Z,()=>Ia,(O,J)=>{J(O,{class:"border-2 w-[190px] border-double border-zinc-800 ",side:"bottom",alignOffset:-100,sideOffset:-30,children:(P,u)=>{var p=Fn(),G=c(p);d(G,()=>ht,(N,ee)=>{ee(N,{class:"relative flex items-center justify-center w-full pl-8",children:(_e,me)=>{var he=xn(),fe=c(he);d(fe,()=>pt,(y,V)=>{V(y,{class:"absolute left-0 text-xs",children:(L,B)=>{ar(L,{size:20})},$$slots:{default:!0}})});var be=$(fe,2);d(be,()=>ze,(y,V)=>{V(y,{class:"h-8 py-0",children:(L,B)=>{var w=pn(),q=f(()=>D(e.task,"CREATE_TASK_FROM_TASK"));w.__click=function(...ve){var F;(F=t(q))==null||F.apply(this,ve)},s(L,w)},$$slots:{default:!0}})});var Ce=$(be,2);{var se=y=>{var V=k(),L=c(V);d(L,()=>ze,(B,w)=>{w(B,{class:"h-8 py-0",children:(q,ve)=>{var F=$n(),j=f(()=>D(e.task,"CREATE_SUBTASK_FROM_TASK"));F.__click=function(...W){var Y;(Y=t(j))==null||Y.apply(this,W)},s(q,F)},$$slots:{default:!0}})}),s(y,V)};we(Ce,y=>{e.task.parent_id||y(se)})}s(_e,he)},$$slots:{default:!0}})});var _=$(G,2);d(_,()=>$t,(N,ee)=>{ee(N,{})});var h=$(_,2);d(h,()=>ht,(N,ee)=>{ee(N,{class:"flex items-center justify-center pl-8",children:(_e,me)=>{var he=wn(),fe=c(he);d(fe,()=>pt,(y,V)=>{V(y,{class:"absolute left-0 text-xs ",children:(L,B)=>{var w=k(),q=c(w);{var ve=j=>{qr(j,{size:20,class:"mx-1.5"})},F=j=>{jr(j,{size:18,class:"mx-1.5"})};we(q,j=>{e.hasChildren?j(ve):j(F,!1)})}s(L,w)},$$slots:{default:!0}})});var be=$(fe,2);{var Ce=y=>{var V=k(),L=c(V);d(L,()=>ze,(B,w)=>{w(B,{class:"h-8 py-0",children:(q,ve)=>{var F=yn(),j=f(()=>U(e.task,"milestone",!e.task.milestone));F.__click=function(...W){var Y;(Y=t(j))==null||Y.apply(this,W)},s(q,F)},$$slots:{default:!0}})}),s(y,V)},se=y=>{var V=k(),L=c(V);d(L,()=>ze,(B,w)=>{w(B,{class:"h-8 py-0",children:(q,ve)=>{var F=Dn(),j=f(()=>U(e.task,"milestone",!e.task.milestone));F.__click=function(...W){var Y;(Y=t(j))==null||Y.apply(this,W)},s(q,F)},$$slots:{default:!0}})}),s(y,V)};we(be,y=>{e.hasChildren?y(Ce):y(se,!1)})}s(_e,he)},$$slots:{default:!0}})});var I=$(h,2);d(I,()=>$t,(N,ee)=>{ee(N,{})});var X=$(I,2);d(X,()=>ht,(N,ee)=>{ee(N,{class:"flex justify-center w-full",children:(_e,me)=>{var he=k(),fe=c(he);{var be=se=>{var y=Vn(),V=c(y);d(V,()=>ze,(B,w)=>{w(B,{class:"h-8 ",children:(q,ve)=>{var F=kn(),j=f(()=>(e.task,void 0));F.__click=function(...Y){var Ve;(Ve=t(j))==null||Ve.apply(this,Y)};var W=R(F);Ur(W,{size:20,class:"mx-1"}),Ge(2),T(F),s(q,F)},$$slots:{default:!0}})});var L=$(V,2);d(L,()=>ze,(B,w)=>{w(B,{class:"h-8",children:(q,ve)=>{var F=Pn(),j=f(()=>(e.task,void 0));F.__click=function(...Y){var Ve;(Ve=t(j))==null||Ve.apply(this,Y)};var W=R(F);Wr(W,{size:20}),Ge(),T(F),s(q,F)},$$slots:{default:!0}})}),s(se,y)},Ce=se=>{var y=Tn(),V=c(y);d(V,()=>pt,(B,w)=>{w(B,{class:"absolute text-xs left-1.5",children:(q,ve)=>{Ks(q,{size:20})},$$slots:{default:!0}})});var L=$(V,2);d(L,()=>ze,(B,w)=>{w(B,{class:"h-8 ml-8",children:(q,ve)=>{var F=Sn(),j=f(()=>(e.task,void 0));F.__click=function(...W){var Y;(Y=t(j))==null||Y.apply(this,W)},s(q,F)},$$slots:{default:!0}})}),s(se,y)};we(fe,se=>{a()?se(be):se(Ce,!1)})}s(_e,he)},$$slots:{default:!0}})});var z=$(X,2);d(z,()=>$t,(N,ee)=>{ee(N,{})});var S=$(z,2);d(S,()=>ht,(N,ee)=>{ee(N,{class:"relative flex items-center justify-center w-full pl-8",children:(_e,me)=>{var he=Rn(),fe=c(he);d(fe,()=>pt,(y,V)=>{V(y,{class:"absolute left-0.5 text-xs",children:(L,B)=>{Fa(L,{size:20})},$$slots:{default:!0}})});var be=$(fe,2);{var Ce=y=>{var V=k(),L=c(V);d(L,()=>ze,(B,w)=>{w(B,{class:"",children:(q,ve)=>{var F=Cn(),j=f(()=>o(e.task,"DELETE_TASK"));F.__click=function(...W){var Y;(Y=t(j))==null||Y.apply(this,W)},s(q,F)},$$slots:{default:!0}})}),s(y,V)},se=y=>{var V=On(),L=$(R(V),2),B=R(L);d(B,()=>ze,(q,ve)=>{ve(q,{class:"",children:(F,j)=>{var W=Mn(),Y=f(()=>o(e.task,"CONVERT_SUBTASK_TO_TASK"));W.__click=function(...Ve){var x;(x=t(Y))==null||x.apply(this,Ve)},s(F,W)},$$slots:{default:!0}})});var w=$(B,2);d(w,()=>ze,(q,ve)=>{ve(q,{class:"",children:(F,j)=>{var W=zn(),Y=f(()=>o(e.task,"DELETE_ALL_SUBTASK"));W.__click=function(...Ve){var x;(x=t(Y))==null||x.apply(this,Ve)},s(F,W)},$$slots:{default:!0}})}),T(L),T(V),s(y,V)};we(be,y=>{e.hasChildren?y(se,!1):y(Ce)})}s(_e,he)},$$slots:{default:!0}})});var g=$(S,2);d(g,()=>$t,(N,ee)=>{ee(N,{})});var E=$(g,2);d(E,()=>ht,(N,ee)=>{ee(N,{class:"flex items-center justify-center ",children:(_e,me)=>{var he=Ln(),fe=c(he);d(fe,()=>ze,(y,V)=>{V(y,{class:"",children:(L,B)=>{var w=In(),q=f(()=>U(e.task,"milestone",!e.task.milestone));w.__click=function(...j){var W;(W=t(q))==null||W.apply(this,j)};var ve=R(w);const F=f(()=>e.task.milestone?"#e46b75":"#3f3f46");ha(ve,{size:20,get fill(){return t(F)}}),T(w),s(L,w)},$$slots:{default:!0}})});var be=$(fe,2);d(be,()=>ze,(y,V)=>{V(y,{class:"",children:(L,B)=>{var w=En(),q=R(w);Lr(q,{size:20}),T(w),s(L,w)},$$slots:{default:!0}})});var Ce=$(be,2);d(Ce,()=>ze,(y,V)=>{V(y,{class:"",children:(L,B)=>{var w=Nn(),q=R(w);Yr(q,{size:20}),T(w),s(L,w)},$$slots:{default:!0}})});var se=$(Ce,2);d(se,()=>ze,(y,V)=>{V(y,{class:"",children:(L,B)=>{var w=Un();w.__click=[An,i];var q=R(w);Zs(q,{size:20}),T(w),s(L,w)},$$slots:{default:!0}})}),s(_e,he)},$$slots:{default:!0}})}),s(P,p)},$$slots:{default:!0}})}),s(C,ue)},$$slots:{default:!0}})}),T(Pe),T(De),T(H),T(ae),s(n,ae),Te()}Ua(["click"]);let Ee=null;var jn=m("<div></div>"),Hn=m("<div><!></div>"),qn=m('<div class="flex w-full h-[30px] items-center gap-0 rounded-md svelte-ac60y1" role="listitem"><!> <!> <div><!> <div><!> <!></div></div> <div class="h-[30px] border-b border-r w-full svelte-ac60y1"><input class="h-full px-1.5 w-full bg-transparent focus:bg-zinc-50 svelte-ac60y1"></div></div> <!>',1),Yn=m(`<div class="border-zinc-800
			 h-full max-h-[calc(100%-48px)] w-full min-w-full overflow-x-clip overflow-y-auto svelte-ac60y1"></div>`);function fa(n,e){Se(e,!0);const[a,i]=mt(),r=()=>Le(U,"$group",a),v=()=>Le(D,"$item",a),l=()=>Le(ce,"$isExpanded",a),o=()=>Le(Q,"$isSelected",a),{elements:{item:D,group:U},helpers:{isExpanded:ce,isSelected:Q}}=He("tree");let re=A(e,"level",3,1),ae=A(e,"treeItems",27,()=>pe([])),H=A(e,"scrollPosition",27,()=>pe({scrollTop:0,scrollLeft:0}));const De=ut(Ke());ut(Ke()),De.add({days:0});const Pe=na(),le=He("handleUpdateTask");function b(_,h){le({task:_,updateData:{title:h}})}function K(_){const{task:h,updateData:I}=_.detail;le({task:h,updateData:I})}let C=Fe(void 0);function ie(){Pe("scroll",{scrollTop:t(C).scrollTop,scrollLeft:t(C).scrollLeft})}function ue(_){t(C)&&(t(C).scrollTop=_.scrollTop,t(C).scrollLeft=_.scrollLeft)}tt(()=>{t(C)&&(t(C).scrollTop=H().scrollTop,t(C).scrollLeft=H().scrollLeft)});function M(_,h){Ee={...h},_.dataTransfer.effectAllowed="move",_.dataTransfer.setData("text/plain",h==null?void 0:h.id)}function Z(_){_.preventDefault(),console.log(Ee==null?void 0:Ee.title,"over"),_.dataTransfer.dropEffect="move"}function O(_,h){_.preventDefault(),console.log(Ee==null?void 0:Ee.title,"target: ",h.title),Ee&&Ee.id!==h.id&&(console.info("start update"),J(Ee,h))}function J(_,h){const I=h.parent_id?{parent_id:h.parent_id}:{parent_id:h.id};le({task:_,updateData:I})}function P(){console.info("drag end"),Ee=null}tt(()=>{console.log(ae())});var u=k(),p=c(u);vs(p,ae,_=>{var h=Yn();Ze(h,21,ae,Je,(I,X)=>{let z=()=>t(X).task,S=()=>t(X).subtasks;var g=qn();const E=f(()=>{var x;return`${(x=z())==null?void 0:x.id}`}),N=f(()=>{var x;return!!((x=S())!=null&&x.length)}),ee=f(()=>r()({id:t(E)})),_e=f(()=>v()({id:t(E),hasChildren:t(N)}));var me=c(g),he=R(me);{var fe=x=>{_s(x,{size:18})};we(he,x=>{z()===Ee&&x(fe)})}var be=$(he,2);{var Ce=x=>{var oe=jn();ye(()=>ca(oe,da(re()!==1?"pl-4 h-full bg-zinc-100 border-b":""),"svelte-ac60y1")),s(x,oe)};we(be,x=>{t(N)||x(Ce)})}var se=$(be,2);let y;var V=R(se);Kn(V,{get task(){return z()},get hasChildren(){return t(N)}});var L=$(V,2),B=R(L);{var w=x=>{js(x,{class:"w-4 h-4"})},q=x=>{var oe=k(),xe=c(oe);{var We=Ie=>{Hs(Ie,{class:"w-4 h-4 "})};we(xe,Ie=>{t(N)&&Ie(We)},!0)}s(x,oe)};we(B,x=>{t(N)&&l()(t(E))?x(w):x(q,!1)})}var ve=$(B,2);{var F=x=>{Ar(x,{class:"w-4 h-4 text-pomodoro-500"})};we(ve,x=>{o()(t(E))&&x(F)})}T(L),T(se),kt(se,x=>{var oe,xe;return(xe=(oe=t(_e)).action)==null?void 0:xe.call(oe,x)});var j=$(se,2),W=R(j);rs(W),T(j),T(me);var Y=$(me,2);{var Ve=x=>{var oe=Hn();let xe;var We=R(oe);const Ie=f(()=>re()+1);fa(We,{get treeItems(){return S()},get level(){return t(Ie)},$$events:{update:K}}),T(oe),kt(oe,la=>{var ba,pa;return(pa=(ba=t(ee)).action)==null?void 0:pa.call(ba,la)}),ye(la=>{xe=qe(oe,xe,{...t(ee)},"svelte-ac60y1"),Ye(oe,"groupChild",la)},[()=>l()(t(E))]),s(x,oe)};we(Y,x=>{var oe;(oe=S())!=null&&oe.length&&x(Ve)})}ye((x,oe)=>{var xe;dt(me,"draggable",!t(N)),Ye(me,"group",x),Ye(me,"dragging",z()===Ee),Ye(me,"draggable",!t(N)),y=qe(se,y,{class:"flex border-b h-[30px] items-center",...t(_e)},"svelte-ac60y1"),ca(L,da(oe),"svelte-ac60y1"),ns(W,(xe=z())==null?void 0:xe.title)},[()=>l()(t(E)),()=>t(N)&&o()(t(E))?"flex space-x-1 border border-zinc-200 shadow-sm rounded-full py-0.5 px-1.5":""]),et("dragstart",me,x=>M(x,z())),et("dragover",me,Z),et("drop",me,x=>O(x,z())),et("dragend",me,P),et("blur",W,x=>b(z(),x.target.value)),s(I,g)}),T(h),ct(h,I=>Oe(C,I),()=>t(C)),et("scroll",h,ie),s(_,h)}),s(n,u);var G=Te({updateScrollPosition:ue});return i(),G}var Gn=m('<div class="flex flex-col w-[calc(100%-8px)] -translate-x-1 h-full px-2 py-2 "><!></div>'),Zn=m("<div><!></div>"),Jn=m("<div><!></div>"),Qn=m('<div class="flex flex-col w-1/3 "><div class="flex w-full h-10 "><!></div> <!></div>'),Xn=m("<div><!></div>"),el=m("<!> <!> <!> <!> <!> <!>",1),tl=m("<!> <!> <!> <!> <!> <!>",1),al=m("<!> <!>",1);function Dl(n,e){Se(e,!0);const[a,i]=mt(),r=()=>Le(re,"$selectedDateRange",a),v=()=>Le(D,"$treeItems",a),l=()=>Le(ce,"$tree",a);let o=!0,D=wa([]);nt("treeItems",D);const U=qs({defaultExpanded:[]}),{elements:{tree:ce}}=U;nt("tree",U);let Q=za()||wt();const re=wa(Q);nt("selectedDateRange",re),Ea(async()=>{const M=new URLSearchParams(window.location.search);(!M.get("startDate")||!M.get("endDate"))&&await ae(wt())});async function ae(M){lt(re,pe(M));const Z=M.start,O=M.end,J=new URLSearchParams({startDate:Z,endDate:O});tr(`?${J.toString()}`)}tt(()=>{const{start:M,end:Z}=r();ka("fetch_tasks",{startDate:M.toString(),endDate:Z.toString()}).then(O=>{lt(D,pe(O))}).catch(console.error)});async function H({task:M,updateData:Z}){var u;if(console.info("update task",Z),!Object.entries(Z).some(([p,G])=>!(p in M)||M[p]!==G)){console.info("nothing changed");return}const{id:J,parent_id:P}=M;try{const G=(u=(await ls({path:`/tasks/${J}`,data:Z})).data)==null?void 0:u.task;D.update(_=>{if(P){const h=b(_,P);if(h&&h.subtasks){const I=h.subtasks.findIndex(X=>X.task.id===J);I!==-1&&(h.subtasks[I].task=G)}}else{const h=_.findIndex(I=>I.task.id===J);h!==-1&&(_[h].task=G)}return _}),await tick()}catch(p){console.error("Request failed:",p)}}async function De(M,Z){if(!M)return;let O={};O.startDate=le(M.startDate),O.endDate=le(M.endDate),O.parent_id="",Z==="CREATE_TASK_WITH_TITLE"?O.title=M.title:(O.title="",Z==="CREATE_TASK_FROM_TASK"&&(O.parent_id=M==null?void 0:M.parent_id),Z==="CREATE_SUBTASK_FROM_TASK"&&(O.parent_id=M.id)),ka("create_task",{...O}).then(async J=>{Z==="CREATE_TASK_FROM_TASK"||Z==="CREATE_SUBTASK_FROM_TASK"?D.update(P=>{const u=b(P,O.parent_id);return u&&(u.subtasks||(u.subtasks=[]),u.subtasks.push({task:J})),P}):(console.log(J),lt(D,pe([...v(),{task:J,subtasks:[]}]))),await tick()}).catch(J=>console.error("Fail to fetch tasks",J))}async function Pe(M,Z){const{id:O,parent_id:J}=M;try{await is({path:`/tasks/${O}`,data:Z}),D.update(P=>{if(J){const u=b(P,J);u&&u.subtasks&&(u.subtasks=u.subtasks.filter(p=>p.task.id!==O))}else if(Z==="CONVERT_SUBTASK_TO_TASK"){const u=P.find(p=>p.task.id===O);if(u){const p=u.subtasks||[];P=P.filter(_=>_.task.id!==O);const G=p.map(_=>({task:_.task,subtasks:[]}));P=[...P,...G]}}else P=P.filter(u=>u.task.id!==O);return P}),await tick()}catch(P){console.error("Request failed:",P)}}nt("handleUpdateTask",H),nt("handleDeleteTask",Pe),nt("handleCreateTask",De);function le(M){return M?new Date(M).toISOString().split("T")[0]:null}function b(M,Z){for(let O of M){if(O.task.id===Z)return O;if(O.subtasks&&O.subtasks.length>0){const J=b(O.subtasks,Z);if(J)return J}}return null}let K={scrollTop:0,scrollLeft:0},C,ie;function ue(M){K={scrollTop:M.detail.scrollTop,scrollLeft:M.detail.scrollLeft},ie.updateScrollPosition(K),C.updateScrollPosition(K)}hs(n,{get changeMode(){return o},side:P=>{var u=Gn(),p=R(u);fn(p,{$$events:{create:De,update:H}}),T(u),s(P,u)},main_side:P=>{var u=Qn(),p=R(u),G=R(p);mn(G,{update:h=>ae(h)}),T(p);var _=$(p,2);or(_,{class:"w-full h-full mt-2",tab1:X=>{var z=Zn();let S;var g=R(z);ct(fa(g,{get treeItems(){return oa(),v()},set treeItems(E){lt(D,pe(E))},get scrollPosition(){return K},set scrollPosition(E){K=E},$$events:{scroll:ue,update:H}}),E=>C=E,()=>C),T(z),ye(()=>S=qe(z,S,{...l(),class:" w-full bg-white h-[calc(100%-70px)] max-h-[calc(100%-70px)] "})),s(X,z)},tab2:X=>{var z=Jn();let S;var g=R(z);ct(fa(g,{get treeItems(){return oa(),v()},set treeItems(E){lt(D,pe(E))},get scrollPosition(){return K},set scrollPosition(E){K=E},$$events:{scroll:ue,update:H}}),E=>C=E,()=>C),T(z),ye(()=>S=qe(z,S,{...l(),class:" w-full bg-white h-[calc(100%-70px)] max-h-[calc(100%-70px)] "})),s(X,z)},$$slots:{tab1:!0,tab2:!0}}),T(u),s(P,u)},main:P=>{var u=Xn();let p;var G=R(u);ct(nn(G,{get treeItems(){return oa(),v()},set treeItems(_){lt(D,pe(_))},$$events:{scroll:ue}}),_=>ie=_,()=>ie),T(u),ye(()=>p=qe(u,p,{...l(),class:"w-full h-full font-mono"})),s(P,u)},change_main:P=>{gs(P,{class:"w-full h-full border-2 border-zinc-700 px-2 max-h-full overflow-y-auto",children:(u,p)=>{var G=k(),_=c(G);d(_,()=>ir,(h,I)=>{I(h,{class:"relative table-fixed ",children:(X,z)=>{var S=al(),g=c(S);d(g,()=>sr,(N,ee)=>{ee(N,{children:(_e,me)=>{var he=k(),fe=c(he);d(fe,()=>Va,(be,Ce)=>{Ce(be,{children:(se,y)=>{var V=el(),L=c(V);d(L,()=>it,(j,W)=>{W(j,{class:"w-60  min-w-60 max-w-60 ",children:(Y,Ve)=>{Ge();var x=je("Title");s(Y,x)},$$slots:{default:!0}})});var B=$(L,2);d(B,()=>it,(j,W)=>{W(j,{class:"w-7",children:(Y,Ve)=>{Hr(Y,{size:"20"})},$$slots:{default:!0}})});var w=$(B,2);d(w,()=>it,(j,W)=>{W(j,{class:"w-7",children:(Y,Ve)=>{rr(Y,{size:"20"})},$$slots:{default:!0}})});var q=$(w,2);d(q,()=>it,(j,W)=>{W(j,{class:"w-7 ",children:(Y,Ve)=>{ha(Y,{size:"20"})},$$slots:{default:!0}})});var ve=$(q,2);d(ve,()=>it,(j,W)=>{W(j,{class:"w-full",children:(Y,Ve)=>{nr(Y,{size:"20",class:"m-auto"})},$$slots:{default:!0}})});var F=$(ve,2);d(F,()=>it,(j,W)=>{W(j,{class:"w-32 min-w-32 max-w-32",children:(Y,Ve)=>{Fr(Y,{size:"20",class:"m-auto"})},$$slots:{default:!0}})}),s(se,V)},$$slots:{default:!0}})}),s(_e,he)},$$slots:{default:!0}})});var E=$(g,2);d(E,()=>lr,(N,ee)=>{ee(N,{children:(_e,me)=>{var he=k(),fe=c(he);Ze(fe,16,()=>Array(22),Je,(be,Ce)=>{var se=k(),y=c(se);d(y,()=>Va,(V,L)=>{L(V,{children:(B,w)=>{var q=tl(),ve=c(q);d(ve,()=>ot,(x,oe)=>{oe(x,{class:" font-medium",children:(xe,We)=>{Ge();var Ie=je("INV001");s(xe,Ie)},$$slots:{default:!0}})});var F=$(ve,2);d(F,()=>ot,(x,oe)=>{oe(x,{children:(xe,We)=>{Ta(xe,{size:"20"})},$$slots:{default:!0}})});var j=$(F,2);d(j,()=>ot,(x,oe)=>{oe(x,{children:(xe,We)=>{Ta(xe,{size:"20",fill:"#b03956",class:"text-black/70"})},$$slots:{default:!0}})});var W=$(j,2);d(W,()=>ot,(x,oe)=>{oe(x,{children:(xe,We)=>{ha(xe,{size:"20",fill:"black"})},$$slots:{default:!0}})});var Y=$(W,2);d(Y,()=>ot,(x,oe)=>{oe(x,{children:(xe,We)=>{Ge();var Ie=je("from - to");s(xe,Ie)},$$slots:{default:!0}})});var Ve=$(Y,2);d(Ve,()=>ot,(x,oe)=>{oe(x,{class:"font-digital",children:(xe,We)=>{Ge();var Ie=je("2:30 / 15:30");s(xe,Ie)},$$slots:{default:!0}})}),s(B,q)},$$slots:{default:!0}})}),s(be,se)}),s(_e,he)},$$slots:{default:!0}})}),s(X,S)},$$slots:{default:!0}})}),s(u,G)},$$slots:{default:!0}})},$$slots:{side:!0,main_side:!0,main:!0,change_main:!0}}),Te(),i()}export{Dl as component,yl as universal};
